---
import BaseLayout from '../layouts/BaseLayout.astro';
import Header from '../components/Header.astro';
import PageHero from '../components/PageHero.astro';
import Footer from '../components/Footer.astro';

const properties = [
  {
    id: 1,
    title: 'Palermo Soho Penthouse',
    location: 'Buenos Aires',
    price: 485000,
    image: 'https://images.unsplash.com/photo-1600596542815-ffad4c1539a9?w=800&q=80',
    beds: 3,
    baths: 2,
    sqm: 180,
    eligible: true,
  },
  {
    id: 2,
    title: 'Vineyard Estate',
    location: 'Mendoza',
    price: 1250000,
    image: 'https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=800&q=80',
    beds: 5,
    baths: 4,
    sqm: 450,
    eligible: true,
  },
  {
    id: 3,
    title: 'Lakefront Villa',
    location: 'Bariloche',
    price: 890000,
    image: 'https://images.unsplash.com/photo-1600585154340-be6161a56a0c?w=800&q=80',
    beds: 4,
    baths: 3,
    sqm: 320,
    eligible: true,
  },
  {
    id: 4,
    title: 'Recoleta Classic Apartment',
    location: 'Buenos Aires',
    price: 620000,
    image: 'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=800&q=80',
    beds: 4,
    baths: 3,
    sqm: 220,
    eligible: true,
  },
  {
    id: 5,
    title: 'Mountain Retreat',
    location: 'Córdoba',
    price: 380000,
    image: 'https://images.unsplash.com/photo-1564013799919-ab600027ffc6?w=800&q=80',
    beds: 3,
    baths: 2,
    sqm: 200,
    eligible: true,
  },
  {
    id: 6,
    title: 'Puerto Madero Loft',
    location: 'Buenos Aires',
    price: 550000,
    image: 'https://images.unsplash.com/photo-1600566753190-17f0baa2a6c3?w=800&q=80',
    beds: 2,
    baths: 2,
    sqm: 150,
    eligible: true,
  },
];

const locations = [
  { name: 'Buenos Aires', count: 45 },
  { name: 'Mendoza', count: 18 },
  { name: 'Bariloche', count: 12 },
  { name: 'Córdoba', count: 15 },
  { name: 'Salta', count: 8 },
];

function formatPrice(price: number): string {
  return new Intl.NumberFormat('en-US', {
    style: 'currency',
    currency: 'USD',
    maximumFractionDigits: 0,
  }).format(price);
}
---

<BaseLayout title="Real Estate — Invest in Argentina | Argentina's Golden Visa">
  <Header />
  <main>
    <PageHero 
      title="Investment Properties"
      subtitle="Real Estate Opportunities"
      description="Discover premium properties that qualify for Argentina's investor residency program."
      image="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?w=1920&q=80"
      breadcrumbs={[{ label: 'Real Estate', href: '/real-estate' }]}
    />

    <!-- Intro: Argentina's property market for foreign investors -->
    <section class="section-padding bg-white">
      <div class="container-luxury max-w-3xl">
        <p class="label-small mb-4">Overview</p>
        <h2 class="font-serif text-3xl md:text-4xl font-light text-charcoal mb-8">
          Argentina's Property Market for Foreign Investors
        </h2>
        <p class="font-sans text-base font-light text-gray-warm leading-relaxed mb-6">
          Argentina allows foreigners to buy and own property on the same legal basis as residents. There are no restrictions on foreign ownership of real estate for personal use or investment, and no requirement to form a local entity in most cases. Prices in major cities are often lower than in comparable North American or European markets, and property can form part of a qualifying investment for the investor residency (Visa Inversionista) program. The market has seen a recovery in transaction volume and modest USD-price appreciation in recent years, with strong variation by neighborhood and region.
        </p>
        <p class="font-sans text-base font-light text-gray-warm leading-relaxed">
          Buying is typically done in USD or in Argentine pesos at the agreed rate. Notaries (escribanos) handle the deed and registration; a local lawyer is recommended to review contracts, title, and tax implications. Below we outline the legal framework, market trends and average prices by region, rental yield data, the buying process step-by-step, and links to detailed guides for Buenos Aires, Mendoza, and Bariloche.
        </p>
      </div>
    </section>

    <!-- Legal framework -->
    <section class="section-padding bg-cream-light">
      <div class="container-luxury max-w-3xl">
        <p class="label-small mb-4">Legal Framework</p>
        <h2 class="font-serif text-3xl md:text-4xl font-light text-charcoal mb-8">
          Foreign Property Ownership
        </h2>
        <p class="font-sans text-base font-light text-gray-warm leading-relaxed mb-6">
          Foreign individuals and companies can own real estate in Argentina without special permits. The Civil and Commercial Code and the Constitution do not discriminate against foreign buyers for urban or rural property. Ownership is registered at the local property registry (Registro de la Propiedad Inmueble) in the jurisdiction where the property is located. Title is transferred by a public deed (escritura) signed before a notary; the notary is responsible for checking encumbrances and ensuring the deed complies with local law.
        </p>
        <p class="font-sans text-base font-light text-gray-warm leading-relaxed mb-6">
          There are limited exceptions: border zones (frontera) may require approval from the federal authority for certain acquisitions by foreigners; in practice this applies mainly to rural or strategic land near international borders. For standard residential or commercial property in Buenos Aires, Mendoza, Bariloche, Córdoba, and most cities, no such approval is needed. Inheritance and gift tax, as well as transfer tax (depending on province), apply; a lawyer can advise on structuring the purchase and any estate-planning implications. Financing from Argentine banks for non-residents is limited; most foreign buyers pay in cash or arrange financing abroad.
        </p>
      </div>
    </section>

    <!-- Market trends and average prices by region -->
    <section class="section-padding bg-white">
      <div class="container-luxury max-w-3xl">
        <p class="label-small mb-4">Market Overview</p>
        <h2 class="font-serif text-3xl md:text-4xl font-light text-charcoal mb-8">
          Market Trends and Average Prices by Region
        </h2>
        <p class="font-sans text-base font-light text-gray-warm leading-relaxed mb-6">
          Transaction volumes in Argentina's main housing markets have risen in recent years from a low base, with year-on-year growth in the range of 30–50% in some periods. Average prices in USD terms have shown modest appreciation (e.g. around 5–6% annually in recent data for Greater Buenos Aires), though peso volatility means local-currency figures can look very different. Sales are often at a small discount to asking price (e.g. 93–95% of list), with time on market varying by zone and segment (often 90–150 days in the capital).
        </p>
        <p class="font-sans text-base font-light text-gray-warm leading-relaxed mb-6">
          <strong class="font-normal text-charcoal">Buenos Aires (capital and suburbs):</strong> Average price per m² in prime neighborhoods (Palermo, Recoleta, Belgrano, Puerto Madero) can range from roughly $2,000 to $4,500+ USD depending on building quality and location. Outer neighborhoods and the suburbs (GBA) are lower, often $1,000–$2,000/m². Apartments dominate; single-family homes are less common in the city and command premiums in the northern suburbs.
        </p>
        <p class="font-sans text-base font-light text-gray-warm leading-relaxed mb-6">
          <strong class="font-normal text-charcoal">Mendoza:</strong> City and wine-country areas vary. Central Mendoza and Chacras de Coria typically sit in a range of about $1,200–$2,500/m² for good-quality residential; vineyard and mountain-view properties can be higher. The market is smaller and less liquid than Buenos Aires.
        </p>
        <p class="font-sans text-base font-light text-gray-warm leading-relaxed">
          <strong class="font-normal text-charcoal">Bariloche and Patagonia:</strong> Lake and mountain areas command premium prices; expect roughly $1,800–$3,500/m² for well-located houses or apartments. Demand is seasonal (winter ski, summer tourism); liquidity is lower than in the capital. For more detail on each market, see the location pages linked below.
        </p>
      </div>
    </section>

    <!-- Rental yield data -->
    <section class="section-padding bg-cream-light">
      <div class="container-luxury max-w-3xl">
        <p class="label-small mb-4">Returns</p>
        <h2 class="font-serif text-3xl md:text-4xl font-light text-charcoal mb-8">
          Rental Yield Data
        </h2>
        <p class="font-sans text-base font-light text-gray-warm leading-relaxed mb-6">
          Gross rental yields in Argentina's main cities are often quoted in the mid-single digits on an annualized basis (e.g. 4–6%), but actual returns depend heavily on location, property type, and management. In Buenos Aires, prime neighborhoods can achieve solid yields on short-term (tourist) rentals, while long-term residential leases tend to be lower and are subject to local tenancy law, which has historically favored tenants. Net yields are lower once you account for management, maintenance, taxes, and vacancy.
        </p>
        <p class="font-sans text-base font-light text-gray-warm leading-relaxed">
          In Mendoza and Bariloche, rental demand is seasonal: winter (ski) and summer (wine and lakes) generate peaks, with lower occupancy in shoulder seasons. Well-located lakefront or ski-close properties can achieve strong weekly rates in peak periods; city-center apartments offer more stable, year-round occupancy at lower nightly rates. When comparing yields, use local benchmarks and factor in vacancy, management costs, and currency risk if rents are collected in pesos.
        </p>
      </div>
    </section>

    <!-- Buying process step-by-step -->
    <section class="section-padding bg-white">
      <div class="container-luxury max-w-3xl">
        <p class="label-small mb-4">Process</p>
        <h2 class="font-serif text-3xl md:text-4xl font-light text-charcoal mb-8">
          The Buying Process Step-by-Step
        </h2>
        <ol class="space-y-6 font-sans text-base font-light text-gray-warm leading-relaxed list-decimal list-inside">
          <li><strong class="font-normal text-charcoal">Define budget and criteria.</strong> Set a price range, preferred areas, and whether you need financing. Most foreign buyers purchase in USD; confirm how the seller wants to receive payment.</li>
          <li><strong class="font-normal text-charcoal">Search and shortlist.</strong> Use local portals, agents, or our listings below. Visit properties where possible; if buying remotely, hire a trusted agent or lawyer to inspect and verify condition and title.</li>
          <li><strong class="font-normal text-charcoal">Reserve and sign a pre-agreement (boleto).</strong> A boleto de compraventa is a preliminary contract: you pay a deposit (often 10–30%) and agree on price, closing date, and conditions. It is binding; have a lawyer review it before signing.</li>
          <li><strong class="font-normal text-charcoal">Due diligence.</strong> The notary (or your lawyer) checks the title at the property registry for liens, encumbrances, and ownership history. Confirm there are no unpaid taxes or building violations.</li>
          <li><strong class="font-normal text-charcoal">Closing (escritura).</strong> At the notary's office, buyer and seller sign the public deed. The full balance is paid (or released from escrow). Transfer tax (and any notary fees) are paid according to provincial rules.</li>
          <li><strong class="font-normal text-charcoal">Registration.</strong> The notary submits the deed to the property registry. Once registered, you are the legal owner. Obtain a certified copy of the deed and update utilities and taxes in your name.</li>
        </ol>
        <p class="font-sans text-sm font-light text-gray-warm mt-8">
          Timeline from boleto to closing is often 30–60 days. Have a local lawyer and a reliable notary; they can also advise on tax and residency implications if you plan to use the purchase as part of an investor visa application.
        </p>
      </div>
    </section>

    <!-- Links to location pages -->
    <section class="section-padding bg-cream-light">
      <div class="container-luxury">
        <p class="label-small mb-4">Explore by Region</p>
        <h2 class="font-serif text-3xl md:text-4xl font-light text-charcoal mb-8">
          Location Guides
        </h2>
        <p class="font-sans text-base font-light text-gray-warm leading-relaxed mb-10 max-w-2xl">
          Detailed market overviews, price ranges, and investment considerations for the main expat and investor markets.
        </p>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <a href="/real-estate/buenos-aires" class="group block p-8 border border-gray-border bg-white hover:border-charcoal hover:shadow-card transition-all duration-300">
            <h3 class="font-serif text-2xl text-charcoal mb-2 group-hover:text-bronze transition-colors">Buenos Aires</h3>
            <p class="font-sans text-sm font-light text-gray-warm leading-relaxed mb-6">
              Capital market: prime neighborhoods, price per m², and rental dynamics.
            </p>
            <span class="font-sans text-xs font-normal tracking-widest uppercase text-bronze group-hover:underline">Read guide →</span>
          </a>
          <a href="/real-estate/mendoza" class="group block p-8 border border-gray-border bg-white hover:border-charcoal hover:shadow-card transition-all duration-300">
            <h3 class="font-serif text-2xl text-charcoal mb-2 group-hover:text-bronze transition-colors">Mendoza</h3>
            <p class="font-sans text-sm font-light text-gray-warm leading-relaxed mb-6">
              Wine country and city: vineyards, Chacras, and mountain access.
            </p>
            <span class="font-sans text-xs font-normal tracking-widest uppercase text-bronze group-hover:underline">Read guide →</span>
          </a>
          <a href="/real-estate/bariloche" class="group block p-8 border border-gray-border bg-white hover:border-charcoal hover:shadow-card transition-all duration-300">
            <h3 class="font-serif text-2xl text-charcoal mb-2 group-hover:text-bronze transition-colors">Bariloche</h3>
            <p class="font-sans text-sm font-light text-gray-warm leading-relaxed mb-6">
              Patagonian lakes and ski: seasonal demand and premium locations.
            </p>
            <span class="font-sans text-xs font-normal tracking-widest uppercase text-bronze group-hover:underline">Read guide →</span>
          </a>
        </div>
      </div>
    </section>

    <!-- Filters & Listings -->
    <section class="section-padding bg-white">
      <div class="container-luxury">
        <div class="grid grid-cols-1 lg:grid-cols-4 gap-12">
          <!-- Sidebar Filters -->
          <aside class="lg:col-span-1">
            <div class="sticky top-32">
              <h3 class="font-serif text-xl text-charcoal mb-6">Filter Properties</h3>
              
              <!-- Location Filter -->
              <div class="mb-8">
                <h4 class="font-sans text-sm font-normal text-charcoal mb-4">Location</h4>
                <div class="space-y-3">
                  {locations.map((loc) => (
                    <label class="flex items-center justify-between cursor-pointer group">
                      <div class="flex items-center gap-3">
                        <input type="checkbox" class="w-4 h-4 border-gray-border" />
                        <span class="font-sans text-sm font-light text-gray-warm group-hover:text-charcoal transition-colors">{loc.name}</span>
                      </div>
                      <span class="font-sans text-xs text-gray-light">{loc.count}</span>
                    </label>
                  ))}
                </div>
              </div>

              <!-- Price Filter -->
              <div class="mb-8">
                <h4 class="font-sans text-sm font-normal text-charcoal mb-4">Price Range</h4>
                <div class="space-y-3">
                  <label class="flex items-center gap-3 cursor-pointer group">
                    <input type="checkbox" class="w-4 h-4 border-gray-border" />
                    <span class="font-sans text-sm font-light text-gray-warm group-hover:text-charcoal transition-colors">Under $500,000</span>
                  </label>
                  <label class="flex items-center gap-3 cursor-pointer group">
                    <input type="checkbox" class="w-4 h-4 border-gray-border" />
                    <span class="font-sans text-sm font-light text-gray-warm group-hover:text-charcoal transition-colors">$500,000 - $1,000,000</span>
                  </label>
                  <label class="flex items-center gap-3 cursor-pointer group">
                    <input type="checkbox" class="w-4 h-4 border-gray-border" />
                    <span class="font-sans text-sm font-light text-gray-warm group-hover:text-charcoal transition-colors">Over $1,000,000</span>
                  </label>
                </div>
              </div>

              <!-- Bedrooms Filter -->
              <div class="mb-8">
                <h4 class="font-sans text-sm font-normal text-charcoal mb-4">Bedrooms</h4>
                <div class="flex gap-2">
                  {[1, 2, 3, 4, '5+'].map((num) => (
                    <button class="w-10 h-10 border border-gray-border font-sans text-sm font-light text-gray-warm hover:border-charcoal hover:text-charcoal transition-colors">
                      {num}
                    </button>
                  ))}
                </div>
              </div>

              <button class="w-full py-3 border border-charcoal font-sans text-sm font-light tracking-widest uppercase text-charcoal hover:bg-charcoal hover:text-white transition-colors">
                Apply Filters
              </button>
            </div>
          </aside>

          <!-- Property Grid -->
          <div class="lg:col-span-3">
            <div class="flex items-center justify-between mb-8">
              <p class="font-sans text-sm font-light text-gray-warm">
                Showing {properties.length} properties
              </p>
              <select class="px-4 py-2 border border-gray-border font-sans text-sm font-light bg-white">
                <option>Sort by: Featured</option>
                <option>Price: Low to High</option>
                <option>Price: High to Low</option>
                <option>Newest First</option>
              </select>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
              {properties.map((property) => (
                <a href={`/property/${property.id}`} class="group block">
                  <div class="border border-gray-border hover:shadow-card transition-all duration-300">
                    <div class="relative h-64 overflow-hidden">
                      <img
                        src={property.image}
                        alt={property.title}
                        class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"
                        style="filter: saturate(0.9);"
                      />
                      {property.eligible && (
                        <span class="absolute top-4 left-4 px-3 py-1 bg-bronze text-white font-sans text-[10px] tracking-wide uppercase">
                          Visa Eligible
                        </span>
                      )}
                    </div>
                    <div class="p-6">
                      <p class="font-sans text-[10px] font-normal tracking-luxury uppercase text-gray-light mb-2">
                        {property.location}
                      </p>
                      <h3 class="font-serif text-xl text-charcoal mb-3 group-hover:text-bronze transition-colors">
                        {property.title}
                      </h3>
                      <p class="font-serif text-2xl text-charcoal mb-4">
                        {formatPrice(property.price)}
                      </p>
                      <div class="flex items-center gap-6 pt-4 border-t border-gray-border">
                        <span class="font-sans text-sm font-light text-gray-light">{property.beds} Beds</span>
                        <span class="font-sans text-sm font-light text-gray-light">{property.baths} Baths</span>
                        <span class="font-sans text-sm font-light text-gray-light">{property.sqm} m²</span>
                      </div>
                    </div>
                  </div>
                </a>
              ))}
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- CTA -->
    <section class="section-padding bg-charcoal">
      <div class="container-luxury text-center">
        <h2 class="font-serif text-3xl md:text-4xl font-light text-white mb-6">
          Can't Find What You're Looking For?
        </h2>
        <p class="font-sans text-base font-light text-white/70 max-w-xl mx-auto mb-10">
          Our real estate partners have access to exclusive off-market properties. Contact us for personalized recommendations.
        </p>
        <a href="/contact" class="inline-flex items-center justify-center px-10 py-4 font-sans text-sm font-normal tracking-widest uppercase bg-white text-charcoal hover:bg-gray-100 transition-colors">
          Contact Us
        </a>
      </div>
    </section>
  </main>
  <Footer />
</BaseLayout>
